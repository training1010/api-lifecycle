<?xml version="1.0" encoding="UTF-8"?>
<exp:Export Version="3.0"
    xmlns:L7p="http://www.layer7tech.com/ws/policy"
    xmlns:exp="http://www.layer7tech.com/ws/policy/export" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <exp:References/>
    <wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
        <wsp:All wsp:Usage="Required">
            <L7p:HardcodedResponse>
                <L7p:Base64ResponseBody stringValue="dmFyIFFSQ29kZTsKISBmdW5jdGlvbigpIHsKICAgIGZ1bmN0aW9uIGEoYSkgewogICAgICAgIHRoaXMubW9kZSA9IGMuTU9ERV84QklUX0JZVEUsIHRoaXMuZGF0YSA9IGEsIHRoaXMucGFyc2VkRGF0YSA9IFtdOwogICAgICAgIGZvciAodmFyIGIgPSBbXSwgZCA9IDAsIGUgPSB0aGlzLmRhdGEubGVuZ3RoOyBlID4gZDsgZCsrKSB7CiAgICAgICAgICAgIHZhciBmID0gdGhpcy5kYXRhLmNoYXJDb2RlQXQoZCk7CiAgICAgICAgICAgIGYgPiA2NTUzNiA/IChiWzBdID0gMjQwIHwgKDE4MzUwMDggJiBmKSA+Pj4gMTgsIGJbMV0gPSAxMjggfCAoMjU4MDQ4ICYgZikgPj4+IDEyLCBiWzJdID0gMTI4IHwgKDQwMzIgJiBmKSA+Pj4gNiwgYlszXSA9IDEyOCB8IDYzICYgZikgOiBmID4gMjA0OCA/IChiWzBdID0gMjI0IHwgKDYxNDQwICYgZikgPj4+IDEyLCBiWzFdID0gMTI4IHwgKDQwMzIgJiBmKSA+Pj4gNiwgYlsyXSA9IDEyOCB8IDYzICYgZikgOiBmID4gMTI4ID8gKGJbMF0gPSAxOTIgfCAoMTk4NCAmIGYpID4+PiA2LCBiWzFdID0gMTI4IHwgNjMgJiBmKSA6IGJbMF0gPSBmLCB0aGlzLnBhcnNlZERhdGEgPSB0aGlzLnBhcnNlZERhdGEuY29uY2F0KGIpCiAgICAgICAgfQogICAgICAgIHRoaXMucGFyc2VkRGF0YS5sZW5ndGggIT0gdGhpcy5kYXRhLmxlbmd0aCAmJiAodGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMTkxKSwgdGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMTg3KSwgdGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMjM5KSkKICAgIH0KCiAgICBmdW5jdGlvbiBiKGEsIGIpIHsKICAgICAgICB0aGlzLnR5cGVOdW1iZXIgPSBhLCB0aGlzLmVycm9yQ29ycmVjdExldmVsID0gYiwgdGhpcy5tb2R1bGVzID0gbnVsbCwgdGhpcy5tb2R1bGVDb3VudCA9IDAsIHRoaXMuZGF0YUNhY2hlID0gbnVsbCwgdGhpcy5kYXRhTGlzdCA9IFtdCiAgICB9CgogICAgZnVuY3Rpb24gaShhLCBiKSB7CiAgICAgICAgaWYgKHZvaWQgMCA9PSBhLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGEubGVuZ3RoICsgIi8iICsgYik7CiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmxlbmd0aCAmJiAwID09IGFbY107KSBjKys7CiAgICAgICAgdGhpcy5udW0gPSBuZXcgQXJyYXkoYS5sZW5ndGggLSBjICsgYik7CiAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBhLmxlbmd0aCAtIGM7IGQrKykgdGhpcy5udW1bZF0gPSBhW2QgKyBjXQogICAgfQoKICAgIGZ1bmN0aW9uIGooYSwgYikgewogICAgICAgIHRoaXMudG90YWxDb3VudCA9IGEsIHRoaXMuZGF0YUNvdW50ID0gYgogICAgfQoKICAgIGZ1bmN0aW9uIGsoKSB7CiAgICAgICAgdGhpcy5idWZmZXIgPSBbXSwgdGhpcy5sZW5ndGggPSAwCiAgICB9CgogICAgZnVuY3Rpb24gbSgpIHsKICAgICAgICByZXR1cm4gInVuZGVmaW5lZCIgIT0gdHlwZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRAogICAgfQoKICAgIGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgdmFyIGEgPSAhMSwKICAgICAgICAgICAgYiA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICAgICAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdChiKSAmJiAoYSA9ICEwLCBhTWF0ID0gYi50b1N0cmluZygpLm1hdGNoKC9hbmRyb2lkIChbMC05XVwuWzAtOV0pL2kpLCBhTWF0ICYmIGFNYXRbMV0gJiYgKGEgPSBwYXJzZUZsb2F0KGFNYXRbMV0pKSksIGEKICAgIH0KCiAgICBmdW5jdGlvbiByKGEsIGIpIHsKICAgICAgICBmb3IgKHZhciBjID0gMSwgZSA9IHMoYSksIGYgPSAwLCBnID0gbC5sZW5ndGg7IGcgPj0gZjsgZisrKSB7CiAgICAgICAgICAgIHZhciBoID0gMDsKICAgICAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICAgICAgICBjYXNlIGQuTDoKICAgICAgICAgICAgICAgICAgICBoID0gbFtmXVswXTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgZC5NOgogICAgICAgICAgICAgICAgICAgIGggPSBsW2ZdWzFdOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBkLlE6CiAgICAgICAgICAgICAgICAgICAgaCA9IGxbZl1bMl07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGQuSDoKICAgICAgICAgICAgICAgICAgICBoID0gbFtmXVszXQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChoID49IGUpIGJyZWFrOwogICAgICAgICAgICBjKysKICAgICAgICB9CiAgICAgICAgaWYgKGMgPiBsLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJUb28gbG9uZyBkYXRhIik7CiAgICAgICAgcmV0dXJuIGMKICAgIH0KCiAgICBmdW5jdGlvbiBzKGEpIHsKICAgICAgICB2YXIgYiA9IGVuY29kZVVSSShhKS50b1N0cmluZygpLnJlcGxhY2UoL1wlWzAtOWEtZkEtRl17Mn0vZywgImEiKTsKICAgICAgICByZXR1cm4gYi5sZW5ndGggKyAoYi5sZW5ndGggIT0gYSA/IDMgOiAwKQogICAgfQogICAgYS5wcm90b3R5cGUgPSB7CiAgICAgICAgZ2V0TGVuZ3RoOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRGF0YS5sZW5ndGgKICAgICAgICB9LAogICAgICAgIHdyaXRlOiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgIGZvciAodmFyIGIgPSAwLCBjID0gdGhpcy5wYXJzZWREYXRhLmxlbmd0aDsgYyA+IGI7IGIrKykgYS5wdXQodGhpcy5wYXJzZWREYXRhW2JdLCA4KQogICAgICAgIH0KICAgIH0sIGIucHJvdG90eXBlID0gewogICAgICAgIGFkZERhdGE6IGZ1bmN0aW9uKGIpIHsKICAgICAgICAgICAgdmFyIGMgPSBuZXcgYShiKTsKICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5wdXNoKGMpLCB0aGlzLmRhdGFDYWNoZSA9IG51bGwKICAgICAgICB9LAogICAgICAgIGlzRGFyazogZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICBpZiAoMCA+IGEgfHwgdGhpcy5tb2R1bGVDb3VudCA8PSBhIHx8IDAgPiBiIHx8IHRoaXMubW9kdWxlQ291bnQgPD0gYikgdGhyb3cgbmV3IEVycm9yKGEgKyAiLCIgKyBiKTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kdWxlc1thXVtiXQogICAgICAgIH0sCiAgICAgICAgZ2V0TW9kdWxlQ291bnQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGVDb3VudAogICAgICAgIH0sCiAgICAgICAgbWFrZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMubWFrZUltcGwoITEsIHRoaXMuZ2V0QmVzdE1hc2tQYXR0ZXJuKCkpCiAgICAgICAgfSwKICAgICAgICBtYWtlSW1wbDogZnVuY3Rpb24oYSwgYykgewogICAgICAgICAgICB0aGlzLm1vZHVsZUNvdW50ID0gNCAqIHRoaXMudHlwZU51bWJlciArIDE3LCB0aGlzLm1vZHVsZXMgPSBuZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7CiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgdGhpcy5tb2R1bGVDb3VudDsgZCsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNbZF0gPSBuZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMubW9kdWxlQ291bnQ7IGUrKykgdGhpcy5tb2R1bGVzW2RdW2VdID0gbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLCAwKSwgdGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKHRoaXMubW9kdWxlQ291bnQgLSA3LCAwKSwgdGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKDAsIHRoaXMubW9kdWxlQ291bnQgLSA3KSwgdGhpcy5zZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybigpLCB0aGlzLnNldHVwVGltaW5nUGF0dGVybigpLCB0aGlzLnNldHVwVHlwZUluZm8oYSwgYyksIHRoaXMudHlwZU51bWJlciA+PSA3ICYmIHRoaXMuc2V0dXBUeXBlTnVtYmVyKGEpLCBudWxsID09IHRoaXMuZGF0YUNhY2hlICYmICh0aGlzLmRhdGFDYWNoZSA9IGIuY3JlYXRlRGF0YSh0aGlzLnR5cGVOdW1iZXIsIHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWwsIHRoaXMuZGF0YUxpc3QpKSwgdGhpcy5tYXBEYXRhKHRoaXMuZGF0YUNhY2hlLCBjKQogICAgICAgIH0sCiAgICAgICAgc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybjogZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICBmb3IgKHZhciBjID0gLTE7IDcgPj0gYzsgYysrKQogICAgICAgICAgICAgICAgaWYgKCEoLTEgPj0gYSArIGMgfHwgdGhpcy5tb2R1bGVDb3VudCA8PSBhICsgYykpCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IC0xOyA3ID49IGQ7IGQrKykgLSAxID49IGIgKyBkIHx8IHRoaXMubW9kdWxlQ291bnQgPD0gYiArIGQgfHwgKHRoaXMubW9kdWxlc1thICsgY11bYiArIGRdID0gYyA+PSAwICYmIDYgPj0gYyAmJiAoMCA9PSBkIHx8IDYgPT0gZCkgfHwgZCA+PSAwICYmIDYgPj0gZCAmJiAoMCA9PSBjIHx8IDYgPT0gYykgfHwgYyA+PSAyICYmIDQgPj0gYyAmJiBkID49IDIgJiYgNCA+PSBkID8gITAgOiAhMSkKICAgICAgICB9LAogICAgICAgIGdldEJlc3RNYXNrUGF0dGVybjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGZvciAodmFyIGEgPSAwLCBiID0gMCwgYyA9IDA7IDggPiBjOyBjKyspIHsKICAgICAgICAgICAgICAgIHRoaXMubWFrZUltcGwoITAsIGMpOwogICAgICAgICAgICAgICAgdmFyIGQgPSBmLmdldExvc3RQb2ludCh0aGlzKTsKICAgICAgICAgICAgICAgICgwID09IGMgfHwgYSA+IGQpICYmIChhID0gZCwgYiA9IGMpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGIKICAgICAgICB9LAogICAgICAgIGNyZWF0ZU1vdmllQ2xpcDogZnVuY3Rpb24oYSwgYiwgYykgewogICAgICAgICAgICB2YXIgZCA9IGEuY3JlYXRlRW1wdHlNb3ZpZUNsaXAoYiwgYyksCiAgICAgICAgICAgICAgICBlID0gMTsKICAgICAgICAgICAgdGhpcy5tYWtlKCk7CiAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgdGhpcy5tb2R1bGVzLmxlbmd0aDsgZisrKQogICAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IGYgKiBlLCBoID0gMDsgaCA8IHRoaXMubW9kdWxlc1tmXS5sZW5ndGg7IGgrKykgewogICAgICAgICAgICAgICAgICAgIHZhciBpID0gaCAqIGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGogPSB0aGlzLm1vZHVsZXNbZl1baF07CiAgICAgICAgICAgICAgICAgICAgaiAmJiAoZC5iZWdpbkZpbGwoMCwgMTAwKSwgZC5tb3ZlVG8oaSwgZyksIGQubGluZVRvKGkgKyBlLCBnKSwgZC5saW5lVG8oaSArIGUsIGcgKyBlKSwgZC5saW5lVG8oaSwgZyArIGUpLCBkLmVuZEZpbGwoKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGQKICAgICAgICB9LAogICAgICAgIHNldHVwVGltaW5nUGF0dGVybjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGZvciAodmFyIGEgPSA4OyBhIDwgdGhpcy5tb2R1bGVDb3VudCAtIDg7IGErKykgbnVsbCA9PSB0aGlzLm1vZHVsZXNbYV1bNl0gJiYgKHRoaXMubW9kdWxlc1thXVs2XSA9IDAgPT0gYSAlIDIpOwogICAgICAgICAgICBmb3IgKHZhciBiID0gODsgYiA8IHRoaXMubW9kdWxlQ291bnQgLSA4OyBiKyspIG51bGwgPT0gdGhpcy5tb2R1bGVzWzZdW2JdICYmICh0aGlzLm1vZHVsZXNbNl1bYl0gPSAwID09IGIgJSAyKQogICAgICAgIH0sCiAgICAgICAgc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm46IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBmb3IgKHZhciBhID0gZi5nZXRQYXR0ZXJuUG9zaXRpb24odGhpcy50eXBlTnVtYmVyKSwgYiA9IDA7IGIgPCBhLmxlbmd0aDsgYisrKQogICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmxlbmd0aDsgYysrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBhW2JdLAogICAgICAgICAgICAgICAgICAgICAgICBlID0gYVtjXTsKICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLm1vZHVsZXNbZF1bZV0pCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGcgPSAtMjsgMiA+PSBnOyBnKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gLTI7IDIgPj0gaDsgaCsrKSB0aGlzLm1vZHVsZXNbZCArIGddW2UgKyBoXSA9IC0yID09IGcgfHwgMiA9PSBnIHx8IC0yID09IGggfHwgMiA9PSBoIHx8IDAgPT0gZyAmJiAwID09IGggPyAhMCA6ICExCiAgICAgICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXR1cFR5cGVOdW1iZXI6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgZm9yICh2YXIgYiA9IGYuZ2V0QkNIVHlwZU51bWJlcih0aGlzLnR5cGVOdW1iZXIpLCBjID0gMDsgMTggPiBjOyBjKyspIHsKICAgICAgICAgICAgICAgIHZhciBkID0gIWEgJiYgMSA9PSAoMSAmIGIgPj4gYyk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNbTWF0aC5mbG9vcihjIC8gMyldW2MgJSAzICsgdGhpcy5tb2R1bGVDb3VudCAtIDggLSAzXSA9IGQKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgMTggPiBjOyBjKyspIHsKICAgICAgICAgICAgICAgIHZhciBkID0gIWEgJiYgMSA9PSAoMSAmIGIgPj4gYyk7CiAgICAgICAgICAgICAgICB0aGlzLm1vZHVsZXNbYyAlIDMgKyB0aGlzLm1vZHVsZUNvdW50IC0gOCAtIDNdW01hdGguZmxvb3IoYyAvIDMpXSA9IGQKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2V0dXBUeXBlSW5mbzogZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICBmb3IgKHZhciBjID0gdGhpcy5lcnJvckNvcnJlY3RMZXZlbCA8PCAzIHwgYiwgZCA9IGYuZ2V0QkNIVHlwZUluZm8oYyksIGUgPSAwOyAxNSA+IGU7IGUrKykgewogICAgICAgICAgICAgICAgdmFyIGcgPSAhYSAmJiAxID09ICgxICYgZCA+PiBlKTsKICAgICAgICAgICAgICAgIDYgPiBlID8gdGhpcy5tb2R1bGVzW2VdWzhdID0gZyA6IDggPiBlID8gdGhpcy5tb2R1bGVzW2UgKyAxXVs4XSA9IGcgOiB0aGlzLm1vZHVsZXNbdGhpcy5tb2R1bGVDb3VudCAtIDE1ICsgZV1bOF0gPSBnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh2YXIgZSA9IDA7IDE1ID4gZTsgZSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgZyA9ICFhICYmIDEgPT0gKDEgJiBkID4+IGUpOwogICAgICAgICAgICAgICAgOCA+IGUgPyB0aGlzLm1vZHVsZXNbOF1bdGhpcy5tb2R1bGVDb3VudCAtIGUgLSAxXSA9IGcgOiA5ID4gZSA/IHRoaXMubW9kdWxlc1s4XVsxNSAtIGUgLSAxICsgMV0gPSBnIDogdGhpcy5tb2R1bGVzWzhdWzE1IC0gZSAtIDFdID0gZwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50IC0gOF1bOF0gPSAhYQogICAgICAgIH0sCiAgICAgICAgbWFwRGF0YTogZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICBmb3IgKHZhciBjID0gLTEsIGQgPSB0aGlzLm1vZHVsZUNvdW50IC0gMSwgZSA9IDcsIGcgPSAwLCBoID0gdGhpcy5tb2R1bGVDb3VudCAtIDE7IGggPiAwOyBoIC09IDIpCiAgICAgICAgICAgICAgICBmb3IgKDYgPT0gaCAmJiBoLS07OykgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyAyID4gaTsgaSsrKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLm1vZHVsZXNbZF1baCAtIGldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaiA9ICExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZyA8IGEubGVuZ3RoICYmIChqID0gMSA9PSAoMSAmIGFbZ10gPj4+IGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gZi5nZXRNYXNrKGIsIGQsIGggLSBpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsgJiYgKGogPSAhaiksIHRoaXMubW9kdWxlc1tkXVtoIC0gaV0gPSBqLCBlLS0sIC0xID09IGUgJiYgKGcrKywgZSA9IDcpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoZCArPSBjLCAwID4gZCB8fCB0aGlzLm1vZHVsZUNvdW50IDw9IGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZCAtPSBjLCBjID0gLWM7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sIGIuUEFEMCA9IDIzNiwgYi5QQUQxID0gMTcsIGIuY3JlYXRlRGF0YSA9IGZ1bmN0aW9uKGEsIGMsIGQpIHsKICAgICAgICBmb3IgKHZhciBlID0gai5nZXRSU0Jsb2NrcyhhLCBjKSwgZyA9IG5ldyBrLCBoID0gMDsgaCA8IGQubGVuZ3RoOyBoKyspIHsKICAgICAgICAgICAgdmFyIGkgPSBkW2hdOwogICAgICAgICAgICBnLnB1dChpLm1vZGUsIDQpLCBnLnB1dChpLmdldExlbmd0aCgpLCBmLmdldExlbmd0aEluQml0cyhpLm1vZGUsIGEpKSwgaS53cml0ZShnKQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBsID0gMCwgaCA9IDA7IGggPCBlLmxlbmd0aDsgaCsrKSBsICs9IGVbaF0uZGF0YUNvdW50OwogICAgICAgIGlmIChnLmdldExlbmd0aEluQml0cygpID4gOCAqIGwpIHRocm93IG5ldyBFcnJvcigiY29kZSBsZW5ndGggb3ZlcmZsb3cuICgiICsgZy5nZXRMZW5ndGhJbkJpdHMoKSArICI+IiArIDggKiBsICsgIikiKTsKICAgICAgICBmb3IgKGcuZ2V0TGVuZ3RoSW5CaXRzKCkgKyA0IDw9IDggKiBsICYmIGcucHV0KDAsIDQpOyAwICE9IGcuZ2V0TGVuZ3RoSW5CaXRzKCkgJSA4OykgZy5wdXRCaXQoITEpOwogICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgaWYgKGcuZ2V0TGVuZ3RoSW5CaXRzKCkgPj0gOCAqIGwpIGJyZWFrOwogICAgICAgICAgICBpZiAoZy5wdXQoYi5QQUQwLCA4KSwgZy5nZXRMZW5ndGhJbkJpdHMoKSA+PSA4ICogbCkgYnJlYWs7CiAgICAgICAgICAgIGcucHV0KGIuUEFEMSwgOCkKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGIuY3JlYXRlQnl0ZXMoZywgZSkKICAgIH0sIGIuY3JlYXRlQnl0ZXMgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgICAgZm9yICh2YXIgYyA9IDAsIGQgPSAwLCBlID0gMCwgZyA9IG5ldyBBcnJheShiLmxlbmd0aCksIGggPSBuZXcgQXJyYXkoYi5sZW5ndGgpLCBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgdmFyIGsgPSBiW2pdLmRhdGFDb3VudCwKICAgICAgICAgICAgICAgIGwgPSBiW2pdLnRvdGFsQ291bnQgLSBrOwogICAgICAgICAgICBkID0gTWF0aC5tYXgoZCwgayksIGUgPSBNYXRoLm1heChlLCBsKSwgZ1tqXSA9IG5ldyBBcnJheShrKTsKICAgICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBnW2pdLmxlbmd0aDsgbSsrKSBnW2pdW21dID0gMjU1ICYgYS5idWZmZXJbbSArIGNdOwogICAgICAgICAgICBjICs9IGs7CiAgICAgICAgICAgIHZhciBuID0gZi5nZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsKGwpLAogICAgICAgICAgICAgICAgbyA9IG5ldyBpKGdbal0sIG4uZ2V0TGVuZ3RoKCkgLSAxKSwKICAgICAgICAgICAgICAgIHAgPSBvLm1vZChuKTsKICAgICAgICAgICAgaFtqXSA9IG5ldyBBcnJheShuLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgaFtqXS5sZW5ndGg7IG0rKykgewogICAgICAgICAgICAgICAgdmFyIHEgPSBtICsgcC5nZXRMZW5ndGgoKSAtIGhbal0ubGVuZ3RoOwogICAgICAgICAgICAgICAgaFtqXVttXSA9IHEgPj0gMCA/IHAuZ2V0KHEpIDogMAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIHIgPSAwLCBtID0gMDsgbSA8IGIubGVuZ3RoOyBtKyspIHIgKz0gYlttXS50b3RhbENvdW50OwogICAgICAgIGZvciAodmFyIHMgPSBuZXcgQXJyYXkociksIHQgPSAwLCBtID0gMDsgZCA+IG07IG0rKykKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiLmxlbmd0aDsgaisrKSBtIDwgZ1tqXS5sZW5ndGggJiYgKHNbdCsrXSA9IGdbal1bbV0pOwogICAgICAgIGZvciAodmFyIG0gPSAwOyBlID4gbTsgbSsrKQogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKyspIG0gPCBoW2pdLmxlbmd0aCAmJiAoc1t0KytdID0gaFtqXVttXSk7CiAgICAgICAgcmV0dXJuIHMKICAgIH07CiAgICBmb3IgKHZhciBjID0gewogICAgICAgICAgICBNT0RFX05VTUJFUjogMSwKICAgICAgICAgICAgTU9ERV9BTFBIQV9OVU06IDIsCiAgICAgICAgICAgIE1PREVfOEJJVF9CWVRFOiA0LAogICAgICAgICAgICBNT0RFX0tBTkpJOiA4CiAgICAgICAgfSwgZCA9IHsKICAgICAgICAgICAgTDogMSwKICAgICAgICAgICAgTTogMCwKICAgICAgICAgICAgUTogMywKICAgICAgICAgICAgSDogMgogICAgICAgIH0sIGUgPSB7CiAgICAgICAgICAgIFBBVFRFUk4wMDA6IDAsCiAgICAgICAgICAgIFBBVFRFUk4wMDE6IDEsCiAgICAgICAgICAgIFBBVFRFUk4wMTA6IDIsCiAgICAgICAgICAgIFBBVFRFUk4wMTE6IDMsCiAgICAgICAgICAgIFBBVFRFUk4xMDA6IDQsCiAgICAgICAgICAgIFBBVFRFUk4xMDE6IDUsCiAgICAgICAgICAgIFBBVFRFUk4xMTA6IDYsCiAgICAgICAgICAgIFBBVFRFUk4xMTE6IDcKICAgICAgICB9LCBmID0gewogICAgICAgICAgICBQQVRURVJOX1BPU0lUSU9OX1RBQkxFOiBbCiAgICAgICAgICAgICAgICBbXSwKICAgICAgICAgICAgICAgIFs2LCAxOF0sCiAgICAgICAgICAgICAgICBbNiwgMjJdLAogICAgICAgICAgICAgICAgWzYsIDI2XSwKICAgICAgICAgICAgICAgIFs2LCAzMF0sCiAgICAgICAgICAgICAgICBbNiwgMzRdLAogICAgICAgICAgICAgICAgWzYsIDIyLCAzOF0sCiAgICAgICAgICAgICAgICBbNiwgMjQsIDQyXSwKICAgICAgICAgICAgICAgIFs2LCAyNiwgNDZdLAogICAgICAgICAgICAgICAgWzYsIDI4LCA1MF0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU0XSwKICAgICAgICAgICAgICAgIFs2LCAzMiwgNThdLAogICAgICAgICAgICAgICAgWzYsIDM0LCA2Ml0sCiAgICAgICAgICAgICAgICBbNiwgMjYsIDQ2LCA2Nl0sCiAgICAgICAgICAgICAgICBbNiwgMjYsIDQ4LCA3MF0sCiAgICAgICAgICAgICAgICBbNiwgMjYsIDUwLCA3NF0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU0LCA3OF0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU2LCA4Ml0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU4LCA4Nl0sCiAgICAgICAgICAgICAgICBbNiwgMzQsIDYyLCA5MF0sCiAgICAgICAgICAgICAgICBbNiwgMjgsIDUwLCA3MiwgOTRdLAogICAgICAgICAgICAgICAgWzYsIDI2LCA1MCwgNzQsIDk4XSwKICAgICAgICAgICAgICAgIFs2LCAzMCwgNTQsIDc4LCAxMDJdLAogICAgICAgICAgICAgICAgWzYsIDI4LCA1NCwgODAsIDEwNl0sCiAgICAgICAgICAgICAgICBbNiwgMzIsIDU4LCA4NCwgMTEwXSwKICAgICAgICAgICAgICAgIFs2LCAzMCwgNTgsIDg2LCAxMTRdLAogICAgICAgICAgICAgICAgWzYsIDM0LCA2MiwgOTAsIDExOF0sCiAgICAgICAgICAgICAgICBbNiwgMjYsIDUwLCA3NCwgOTgsIDEyMl0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU0LCA3OCwgMTAyLCAxMjZdLAogICAgICAgICAgICAgICAgWzYsIDI2LCA1MiwgNzgsIDEwNCwgMTMwXSwKICAgICAgICAgICAgICAgIFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0sCiAgICAgICAgICAgICAgICBbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdLAogICAgICAgICAgICAgICAgWzYsIDMwLCA1OCwgODYsIDExNCwgMTQyXSwKICAgICAgICAgICAgICAgIFs2LCAzNCwgNjIsIDkwLCAxMTgsIDE0Nl0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU0LCA3OCwgMTAyLCAxMjYsIDE1MF0sCiAgICAgICAgICAgICAgICBbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0sCiAgICAgICAgICAgICAgICBbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0sCiAgICAgICAgICAgICAgICBbNiwgMzIsIDU4LCA4NCwgMTEwLCAxMzYsIDE2Ml0sCiAgICAgICAgICAgICAgICBbNiwgMjYsIDU0LCA4MiwgMTEwLCAxMzgsIDE2Nl0sCiAgICAgICAgICAgICAgICBbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDIsIDE3MF0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgRzE1OiAxMzM1LAogICAgICAgICAgICBHMTg6IDc5NzMsCiAgICAgICAgICAgIEcxNV9NQVNLOiAyMTUyMiwKICAgICAgICAgICAgZ2V0QkNIVHlwZUluZm86IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGIgPSBhIDw8IDEwOyBmLmdldEJDSERpZ2l0KGIpIC0gZi5nZXRCQ0hEaWdpdChmLkcxNSkgPj0gMDspIGIgXj0gZi5HMTUgPDwgZi5nZXRCQ0hEaWdpdChiKSAtIGYuZ2V0QkNIRGlnaXQoZi5HMTUpOwogICAgICAgICAgICAgICAgcmV0dXJuIChhIDw8IDEwIHwgYikgXiBmLkcxNV9NQVNLCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldEJDSFR5cGVOdW1iZXI6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGIgPSBhIDw8IDEyOyBmLmdldEJDSERpZ2l0KGIpIC0gZi5nZXRCQ0hEaWdpdChmLkcxOCkgPj0gMDspIGIgXj0gZi5HMTggPDwgZi5nZXRCQ0hEaWdpdChiKSAtIGYuZ2V0QkNIRGlnaXQoZi5HMTgpOwogICAgICAgICAgICAgICAgcmV0dXJuIGEgPDwgMTIgfCBiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldEJDSERpZ2l0OiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgMCAhPSBhOykgYisrLCBhID4+Pj0gMTsKICAgICAgICAgICAgICAgIHJldHVybiBiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldFBhdHRlcm5Qb3NpdGlvbjogZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGYuUEFUVEVSTl9QT1NJVElPTl9UQUJMRVthIC0gMV0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0TWFzazogZnVuY3Rpb24oYSwgYiwgYykgewogICAgICAgICAgICAgICAgc3dpdGNoIChhKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBlLlBBVFRFUk4wMDA6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwID09IChiICsgYykgJSAyOwogICAgICAgICAgICAgICAgICAgIGNhc2UgZS5QQVRURVJOMDAxOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCA9PSBiICUgMjsKICAgICAgICAgICAgICAgICAgICBjYXNlIGUuUEFUVEVSTjAxMDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAgPT0gYyAlIDM7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBlLlBBVFRFUk4wMTE6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwID09IChiICsgYykgJSAzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgZS5QQVRURVJOMTAwOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCA9PSAoTWF0aC5mbG9vcihiIC8gMikgKyBNYXRoLmZsb29yKGMgLyAzKSkgJSAyOwogICAgICAgICAgICAgICAgICAgIGNhc2UgZS5QQVRURVJOMTAxOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCA9PSBiICogYyAlIDIgKyBiICogYyAlIDM7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBlLlBBVFRFUk4xMTA6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwID09IChiICogYyAlIDIgKyBiICogYyAlIDMpICUgMjsKICAgICAgICAgICAgICAgICAgICBjYXNlIGUuUEFUVEVSTjExMToKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAgPT0gKGIgKiBjICUgMyArIChiICsgYykgJSAyKSAlIDI7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJiYWQgbWFza1BhdHRlcm46IiArIGEpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldEVycm9yQ29ycmVjdFBvbHlub21pYWw6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGIgPSBuZXcgaShbMV0sIDApLCBjID0gMDsgYSA+IGM7IGMrKykgYiA9IGIubXVsdGlwbHkobmV3IGkoWzEsIGcuZ2V4cChjKV0sIDApKTsKICAgICAgICAgICAgICAgIHJldHVybiBiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldExlbmd0aEluQml0czogZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICAgICAgaWYgKGIgPj0gMSAmJiAxMCA+IGIpIHN3aXRjaCAoYSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFX05VTUJFUjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEwOwogICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFX0FMUEhBX05VTToKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDk7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBjLk1PREVfOEJJVF9CWVRFOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gODsKICAgICAgICAgICAgICAgICAgICBjYXNlIGMuTU9ERV9LQU5KSToKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDg7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJtb2RlOiIgKyBhKQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgyNyA+IGIpIHN3aXRjaCAoYSkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFX05VTUJFUjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEyOwogICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFX0FMUEhBX05VTToKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDExOwogICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFXzhCSVRfQllURToKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE2OwogICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFX0tBTkpJOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTA7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJtb2RlOiIgKyBhKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoISg0MSA+IGIpKSB0aHJvdyBuZXcgRXJyb3IoInR5cGU6IiArIGIpOwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYSkgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGMuTU9ERV9OVU1CRVI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgYy5NT0RFX0FMUEhBX05VTToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBjLk1PREVfOEJJVF9CWVRFOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE2OwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGMuTU9ERV9LQU5KSToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigibW9kZToiICsgYSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldExvc3RQb2ludDogZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgYiA9IGEuZ2V0TW9kdWxlQ291bnQoKSwgYyA9IDAsIGQgPSAwOyBiID4gZDsgZCsrKQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBiID4gZTsgZSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwLCBnID0gYS5pc0RhcmsoZCwgZSksIGggPSAtMTsgMSA+PSBoOyBoKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgwID4gZCArIGggfHwgZCArIGggPj0gYikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IC0xOyAxID49IGk7IGkrKykgMCA+IGUgKyBpIHx8IGUgKyBpID49IGIgfHwgKDAgIT0gaCB8fCAwICE9IGkpICYmIGcgPT0gYS5pc0RhcmsoZCArIGgsIGUgKyBpKSAmJiBmKys7CiAgICAgICAgICAgICAgICAgICAgICAgIGYgPiA1ICYmIChjICs9IDMgKyBmIC0gNSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgYiAtIDEgPiBkOyBkKyspCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZSA9IDA7IGIgLSAxID4gZTsgZSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgYS5pc0RhcmsoZCwgZSkgJiYgaisrLCBhLmlzRGFyayhkICsgMSwgZSkgJiYgaisrLCBhLmlzRGFyayhkLCBlICsgMSkgJiYgaisrLCBhLmlzRGFyayhkICsgMSwgZSArIDEpICYmIGorKywgKDAgPT0gaiB8fCA0ID09IGopICYmIChjICs9IDMpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGIgPiBkOyBkKyspCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZSA9IDA7IGIgLSA2ID4gZTsgZSsrKSBhLmlzRGFyayhkLCBlKSAmJiAhYS5pc0RhcmsoZCwgZSArIDEpICYmIGEuaXNEYXJrKGQsIGUgKyAyKSAmJiBhLmlzRGFyayhkLCBlICsgMykgJiYgYS5pc0RhcmsoZCwgZSArIDQpICYmICFhLmlzRGFyayhkLCBlICsgNSkgJiYgYS5pc0RhcmsoZCwgZSArIDYpICYmIChjICs9IDQwKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBiID4gZTsgZSsrKQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBiIC0gNiA+IGQ7IGQrKykgYS5pc0RhcmsoZCwgZSkgJiYgIWEuaXNEYXJrKGQgKyAxLCBlKSAmJiBhLmlzRGFyayhkICsgMiwgZSkgJiYgYS5pc0RhcmsoZCArIDMsIGUpICYmIGEuaXNEYXJrKGQgKyA0LCBlKSAmJiAhYS5pc0RhcmsoZCArIDUsIGUpICYmIGEuaXNEYXJrKGQgKyA2LCBlKSAmJiAoYyArPSA0MCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMCwgZSA9IDA7IGIgPiBlOyBlKyspCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGIgPiBkOyBkKyspIGEuaXNEYXJrKGQsIGUpICYmIGsrKzsKICAgICAgICAgICAgICAgIHZhciBsID0gTWF0aC5hYnMoMTAwICogayAvIGIgLyBiIC0gNTApIC8gNTsKICAgICAgICAgICAgICAgIHJldHVybiBjICs9IDEwICogbAogICAgICAgICAgICB9CiAgICAgICAgfSwgZyA9IHsKICAgICAgICAgICAgZ2xvZzogZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgaWYgKDEgPiBhKSB0aHJvdyBuZXcgRXJyb3IoImdsb2coIiArIGEgKyAiKSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIGcuTE9HX1RBQkxFW2FdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdleHA6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgICAgIGZvciAoOyAwID4gYTspIGEgKz0gMjU1OwogICAgICAgICAgICAgICAgZm9yICg7IGEgPj0gMjU2OykgYSAtPSAyNTU7CiAgICAgICAgICAgICAgICByZXR1cm4gZy5FWFBfVEFCTEVbYV0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgRVhQX1RBQkxFOiBuZXcgQXJyYXkoMjU2KSwKICAgICAgICAgICAgTE9HX1RBQkxFOiBuZXcgQXJyYXkoMjU2KQogICAgICAgIH0sIGggPSAwOyA4ID4gaDsgaCsrKSBnLkVYUF9UQUJMRVtoXSA9IDEgPDwgaDsKICAgIGZvciAodmFyIGggPSA4OyAyNTYgPiBoOyBoKyspIGcuRVhQX1RBQkxFW2hdID0gZy5FWFBfVEFCTEVbaCAtIDRdIF4gZy5FWFBfVEFCTEVbaCAtIDVdIF4gZy5FWFBfVEFCTEVbaCAtIDZdIF4gZy5FWFBfVEFCTEVbaCAtIDhdOwogICAgZm9yICh2YXIgaCA9IDA7IDI1NSA+IGg7IGgrKykgZy5MT0dfVEFCTEVbZy5FWFBfVEFCTEVbaF1dID0gaDsKICAgIGkucHJvdG90eXBlID0gewogICAgICAgIGdldDogZnVuY3Rpb24oYSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5udW1bYV0KICAgICAgICB9LAogICAgICAgIGdldExlbmd0aDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLm51bS5sZW5ndGgKICAgICAgICB9LAogICAgICAgIG11bHRpcGx5OiBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgIGZvciAodmFyIGIgPSBuZXcgQXJyYXkodGhpcy5nZXRMZW5ndGgoKSArIGEuZ2V0TGVuZ3RoKCkgLSAxKSwgYyA9IDA7IGMgPCB0aGlzLmdldExlbmd0aCgpOyBjKyspCiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGEuZ2V0TGVuZ3RoKCk7IGQrKykgYltjICsgZF0gXj0gZy5nZXhwKGcuZ2xvZyh0aGlzLmdldChjKSkgKyBnLmdsb2coYS5nZXQoZCkpKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBpKGIsIDApCiAgICAgICAgfSwKICAgICAgICBtb2Q6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgLSBhLmdldExlbmd0aCgpIDwgMCkgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIGZvciAodmFyIGIgPSBnLmdsb2codGhpcy5nZXQoMCkpIC0gZy5nbG9nKGEuZ2V0KDApKSwgYyA9IG5ldyBBcnJheSh0aGlzLmdldExlbmd0aCgpKSwgZCA9IDA7IGQgPCB0aGlzLmdldExlbmd0aCgpOyBkKyspIGNbZF0gPSB0aGlzLmdldChkKTsKICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCBhLmdldExlbmd0aCgpOyBkKyspIGNbZF0gXj0gZy5nZXhwKGcuZ2xvZyhhLmdldChkKSkgKyBiKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBpKGMsIDApLm1vZChhKQogICAgICAgIH0KICAgIH0sIGouUlNfQkxPQ0tfVEFCTEUgPSBbCiAgICAgICAgWzEsIDI2LCAxOV0sCiAgICAgICAgWzEsIDI2LCAxNl0sCiAgICAgICAgWzEsIDI2LCAxM10sCiAgICAgICAgWzEsIDI2LCA5XSwKICAgICAgICBbMSwgNDQsIDM0XSwKICAgICAgICBbMSwgNDQsIDI4XSwKICAgICAgICBbMSwgNDQsIDIyXSwKICAgICAgICBbMSwgNDQsIDE2XSwKICAgICAgICBbMSwgNzAsIDU1XSwKICAgICAgICBbMSwgNzAsIDQ0XSwKICAgICAgICBbMiwgMzUsIDE3XSwKICAgICAgICBbMiwgMzUsIDEzXSwKICAgICAgICBbMSwgMTAwLCA4MF0sCiAgICAgICAgWzIsIDUwLCAzMl0sCiAgICAgICAgWzIsIDUwLCAyNF0sCiAgICAgICAgWzQsIDI1LCA5XSwKICAgICAgICBbMSwgMTM0LCAxMDhdLAogICAgICAgIFsyLCA2NywgNDNdLAogICAgICAgIFsyLCAzMywgMTUsIDIsIDM0LCAxNl0sCiAgICAgICAgWzIsIDMzLCAxMSwgMiwgMzQsIDEyXSwKICAgICAgICBbMiwgODYsIDY4XSwKICAgICAgICBbNCwgNDMsIDI3XSwKICAgICAgICBbNCwgNDMsIDE5XSwKICAgICAgICBbNCwgNDMsIDE1XSwKICAgICAgICBbMiwgOTgsIDc4XSwKICAgICAgICBbNCwgNDksIDMxXSwKICAgICAgICBbMiwgMzIsIDE0LCA0LCAzMywgMTVdLAogICAgICAgIFs0LCAzOSwgMTMsIDEsIDQwLCAxNF0sCiAgICAgICAgWzIsIDEyMSwgOTddLAogICAgICAgIFsyLCA2MCwgMzgsIDIsIDYxLCAzOV0sCiAgICAgICAgWzQsIDQwLCAxOCwgMiwgNDEsIDE5XSwKICAgICAgICBbNCwgNDAsIDE0LCAyLCA0MSwgMTVdLAogICAgICAgIFsyLCAxNDYsIDExNl0sCiAgICAgICAgWzMsIDU4LCAzNiwgMiwgNTksIDM3XSwKICAgICAgICBbNCwgMzYsIDE2LCA0LCAzNywgMTddLAogICAgICAgIFs0LCAzNiwgMTIsIDQsIDM3LCAxM10sCiAgICAgICAgWzIsIDg2LCA2OCwgMiwgODcsIDY5XSwKICAgICAgICBbNCwgNjksIDQzLCAxLCA3MCwgNDRdLAogICAgICAgIFs2LCA0MywgMTksIDIsIDQ0LCAyMF0sCiAgICAgICAgWzYsIDQzLCAxNSwgMiwgNDQsIDE2XSwKICAgICAgICBbNCwgMTAxLCA4MV0sCiAgICAgICAgWzEsIDgwLCA1MCwgNCwgODEsIDUxXSwKICAgICAgICBbNCwgNTAsIDIyLCA0LCA1MSwgMjNdLAogICAgICAgIFszLCAzNiwgMTIsIDgsIDM3LCAxM10sCiAgICAgICAgWzIsIDExNiwgOTIsIDIsIDExNywgOTNdLAogICAgICAgIFs2LCA1OCwgMzYsIDIsIDU5LCAzN10sCiAgICAgICAgWzQsIDQ2LCAyMCwgNiwgNDcsIDIxXSwKICAgICAgICBbNywgNDIsIDE0LCA0LCA0MywgMTVdLAogICAgICAgIFs0LCAxMzMsIDEwN10sCiAgICAgICAgWzgsIDU5LCAzNywgMSwgNjAsIDM4XSwKICAgICAgICBbOCwgNDQsIDIwLCA0LCA0NSwgMjFdLAogICAgICAgIFsxMiwgMzMsIDExLCA0LCAzNCwgMTJdLAogICAgICAgIFszLCAxNDUsIDExNSwgMSwgMTQ2LCAxMTZdLAogICAgICAgIFs0LCA2NCwgNDAsIDUsIDY1LCA0MV0sCiAgICAgICAgWzExLCAzNiwgMTYsIDUsIDM3LCAxN10sCiAgICAgICAgWzExLCAzNiwgMTIsIDUsIDM3LCAxM10sCiAgICAgICAgWzUsIDEwOSwgODcsIDEsIDExMCwgODhdLAogICAgICAgIFs1LCA2NSwgNDEsIDUsIDY2LCA0Ml0sCiAgICAgICAgWzUsIDU0LCAyNCwgNywgNTUsIDI1XSwKICAgICAgICBbMTEsIDM2LCAxMl0sCiAgICAgICAgWzUsIDEyMiwgOTgsIDEsIDEyMywgOTldLAogICAgICAgIFs3LCA3MywgNDUsIDMsIDc0LCA0Nl0sCiAgICAgICAgWzE1LCA0MywgMTksIDIsIDQ0LCAyMF0sCiAgICAgICAgWzMsIDQ1LCAxNSwgMTMsIDQ2LCAxNl0sCiAgICAgICAgWzEsIDEzNSwgMTA3LCA1LCAxMzYsIDEwOF0sCiAgICAgICAgWzEwLCA3NCwgNDYsIDEsIDc1LCA0N10sCiAgICAgICAgWzEsIDUwLCAyMiwgMTUsIDUxLCAyM10sCiAgICAgICAgWzIsIDQyLCAxNCwgMTcsIDQzLCAxNV0sCiAgICAgICAgWzUsIDE1MCwgMTIwLCAxLCAxNTEsIDEyMV0sCiAgICAgICAgWzksIDY5LCA0MywgNCwgNzAsIDQ0XSwKICAgICAgICBbMTcsIDUwLCAyMiwgMSwgNTEsIDIzXSwKICAgICAgICBbMiwgNDIsIDE0LCAxOSwgNDMsIDE1XSwKICAgICAgICBbMywgMTQxLCAxMTMsIDQsIDE0MiwgMTE0XSwKICAgICAgICBbMywgNzAsIDQ0LCAxMSwgNzEsIDQ1XSwKICAgICAgICBbMTcsIDQ3LCAyMSwgNCwgNDgsIDIyXSwKICAgICAgICBbOSwgMzksIDEzLCAxNiwgNDAsIDE0XSwKICAgICAgICBbMywgMTM1LCAxMDcsIDUsIDEzNiwgMTA4XSwKICAgICAgICBbMywgNjcsIDQxLCAxMywgNjgsIDQyXSwKICAgICAgICBbMTUsIDU0LCAyNCwgNSwgNTUsIDI1XSwKICAgICAgICBbMTUsIDQzLCAxNSwgMTAsIDQ0LCAxNl0sCiAgICAgICAgWzQsIDE0NCwgMTE2LCA0LCAxNDUsIDExN10sCiAgICAgICAgWzE3LCA2OCwgNDJdLAogICAgICAgIFsxNywgNTAsIDIyLCA2LCA1MSwgMjNdLAogICAgICAgIFsxOSwgNDYsIDE2LCA2LCA0NywgMTddLAogICAgICAgIFsyLCAxMzksIDExMSwgNywgMTQwLCAxMTJdLAogICAgICAgIFsxNywgNzQsIDQ2XSwKICAgICAgICBbNywgNTQsIDI0LCAxNiwgNTUsIDI1XSwKICAgICAgICBbMzQsIDM3LCAxM10sCiAgICAgICAgWzQsIDE1MSwgMTIxLCA1LCAxNTIsIDEyMl0sCiAgICAgICAgWzQsIDc1LCA0NywgMTQsIDc2LCA0OF0sCiAgICAgICAgWzExLCA1NCwgMjQsIDE0LCA1NSwgMjVdLAogICAgICAgIFsxNiwgNDUsIDE1LCAxNCwgNDYsIDE2XSwKICAgICAgICBbNiwgMTQ3LCAxMTcsIDQsIDE0OCwgMTE4XSwKICAgICAgICBbNiwgNzMsIDQ1LCAxNCwgNzQsIDQ2XSwKICAgICAgICBbMTEsIDU0LCAyNCwgMTYsIDU1LCAyNV0sCiAgICAgICAgWzMwLCA0NiwgMTYsIDIsIDQ3LCAxN10sCiAgICAgICAgWzgsIDEzMiwgMTA2LCA0LCAxMzMsIDEwN10sCiAgICAgICAgWzgsIDc1LCA0NywgMTMsIDc2LCA0OF0sCiAgICAgICAgWzcsIDU0LCAyNCwgMjIsIDU1LCAyNV0sCiAgICAgICAgWzIyLCA0NSwgMTUsIDEzLCA0NiwgMTZdLAogICAgICAgIFsxMCwgMTQyLCAxMTQsIDIsIDE0MywgMTE1XSwKICAgICAgICBbMTksIDc0LCA0NiwgNCwgNzUsIDQ3XSwKICAgICAgICBbMjgsIDUwLCAyMiwgNiwgNTEsIDIzXSwKICAgICAgICBbMzMsIDQ2LCAxNiwgNCwgNDcsIDE3XSwKICAgICAgICBbOCwgMTUyLCAxMjIsIDQsIDE1MywgMTIzXSwKICAgICAgICBbMjIsIDczLCA0NSwgMywgNzQsIDQ2XSwKICAgICAgICBbOCwgNTMsIDIzLCAyNiwgNTQsIDI0XSwKICAgICAgICBbMTIsIDQ1LCAxNSwgMjgsIDQ2LCAxNl0sCiAgICAgICAgWzMsIDE0NywgMTE3LCAxMCwgMTQ4LCAxMThdLAogICAgICAgIFszLCA3MywgNDUsIDIzLCA3NCwgNDZdLAogICAgICAgIFs0LCA1NCwgMjQsIDMxLCA1NSwgMjVdLAogICAgICAgIFsxMSwgNDUsIDE1LCAzMSwgNDYsIDE2XSwKICAgICAgICBbNywgMTQ2LCAxMTYsIDcsIDE0NywgMTE3XSwKICAgICAgICBbMjEsIDczLCA0NSwgNywgNzQsIDQ2XSwKICAgICAgICBbMSwgNTMsIDIzLCAzNywgNTQsIDI0XSwKICAgICAgICBbMTksIDQ1LCAxNSwgMjYsIDQ2LCAxNl0sCiAgICAgICAgWzUsIDE0NSwgMTE1LCAxMCwgMTQ2LCAxMTZdLAogICAgICAgIFsxOSwgNzUsIDQ3LCAxMCwgNzYsIDQ4XSwKICAgICAgICBbMTUsIDU0LCAyNCwgMjUsIDU1LCAyNV0sCiAgICAgICAgWzIzLCA0NSwgMTUsIDI1LCA0NiwgMTZdLAogICAgICAgIFsxMywgMTQ1LCAxMTUsIDMsIDE0NiwgMTE2XSwKICAgICAgICBbMiwgNzQsIDQ2LCAyOSwgNzUsIDQ3XSwKICAgICAgICBbNDIsIDU0LCAyNCwgMSwgNTUsIDI1XSwKICAgICAgICBbMjMsIDQ1LCAxNSwgMjgsIDQ2LCAxNl0sCiAgICAgICAgWzE3LCAxNDUsIDExNV0sCiAgICAgICAgWzEwLCA3NCwgNDYsIDIzLCA3NSwgNDddLAogICAgICAgIFsxMCwgNTQsIDI0LCAzNSwgNTUsIDI1XSwKICAgICAgICBbMTksIDQ1LCAxNSwgMzUsIDQ2LCAxNl0sCiAgICAgICAgWzE3LCAxNDUsIDExNSwgMSwgMTQ2LCAxMTZdLAogICAgICAgIFsxNCwgNzQsIDQ2LCAyMSwgNzUsIDQ3XSwKICAgICAgICBbMjksIDU0LCAyNCwgMTksIDU1LCAyNV0sCiAgICAgICAgWzExLCA0NSwgMTUsIDQ2LCA0NiwgMTZdLAogICAgICAgIFsxMywgMTQ1LCAxMTUsIDYsIDE0NiwgMTE2XSwKICAgICAgICBbMTQsIDc0LCA0NiwgMjMsIDc1LCA0N10sCiAgICAgICAgWzQ0LCA1NCwgMjQsIDcsIDU1LCAyNV0sCiAgICAgICAgWzU5LCA0NiwgMTYsIDEsIDQ3LCAxN10sCiAgICAgICAgWzEyLCAxNTEsIDEyMSwgNywgMTUyLCAxMjJdLAogICAgICAgIFsxMiwgNzUsIDQ3LCAyNiwgNzYsIDQ4XSwKICAgICAgICBbMzksIDU0LCAyNCwgMTQsIDU1LCAyNV0sCiAgICAgICAgWzIyLCA0NSwgMTUsIDQxLCA0NiwgMTZdLAogICAgICAgIFs2LCAxNTEsIDEyMSwgMTQsIDE1MiwgMTIyXSwKICAgICAgICBbNiwgNzUsIDQ3LCAzNCwgNzYsIDQ4XSwKICAgICAgICBbNDYsIDU0LCAyNCwgMTAsIDU1LCAyNV0sCiAgICAgICAgWzIsIDQ1LCAxNSwgNjQsIDQ2LCAxNl0sCiAgICAgICAgWzE3LCAxNTIsIDEyMiwgNCwgMTUzLCAxMjNdLAogICAgICAgIFsyOSwgNzQsIDQ2LCAxNCwgNzUsIDQ3XSwKICAgICAgICBbNDksIDU0LCAyNCwgMTAsIDU1LCAyNV0sCiAgICAgICAgWzI0LCA0NSwgMTUsIDQ2LCA0NiwgMTZdLAogICAgICAgIFs0LCAxNTIsIDEyMiwgMTgsIDE1MywgMTIzXSwKICAgICAgICBbMTMsIDc0LCA0NiwgMzIsIDc1LCA0N10sCiAgICAgICAgWzQ4LCA1NCwgMjQsIDE0LCA1NSwgMjVdLAogICAgICAgIFs0MiwgNDUsIDE1LCAzMiwgNDYsIDE2XSwKICAgICAgICBbMjAsIDE0NywgMTE3LCA0LCAxNDgsIDExOF0sCiAgICAgICAgWzQwLCA3NSwgNDcsIDcsIDc2LCA0OF0sCiAgICAgICAgWzQzLCA1NCwgMjQsIDIyLCA1NSwgMjVdLAogICAgICAgIFsxMCwgNDUsIDE1LCA2NywgNDYsIDE2XSwKICAgICAgICBbMTksIDE0OCwgMTE4LCA2LCAxNDksIDExOV0sCiAgICAgICAgWzE4LCA3NSwgNDcsIDMxLCA3NiwgNDhdLAogICAgICAgIFszNCwgNTQsIDI0LCAzNCwgNTUsIDI1XSwKICAgICAgICBbMjAsIDQ1LCAxNSwgNjEsIDQ2LCAxNl0KICAgIF0sIGouZ2V0UlNCbG9ja3MgPSBmdW5jdGlvbihhLCBiKSB7CiAgICAgICAgdmFyIGMgPSBqLmdldFJzQmxvY2tUYWJsZShhLCBiKTsKICAgICAgICBpZiAodm9pZCAwID09IGMpIHRocm93IG5ldyBFcnJvcigiYmFkIHJzIGJsb2NrIEAgdHlwZU51bWJlcjoiICsgYSArICIvZXJyb3JDb3JyZWN0TGV2ZWw6IiArIGIpOwogICAgICAgIGZvciAodmFyIGQgPSBjLmxlbmd0aCAvIDMsIGUgPSBbXSwgZiA9IDA7IGQgPiBmOyBmKyspCiAgICAgICAgICAgIGZvciAodmFyIGcgPSBjWzMgKiBmICsgMF0sIGggPSBjWzMgKiBmICsgMV0sIGkgPSBjWzMgKiBmICsgMl0sIGsgPSAwOyBnID4gazsgaysrKSBlLnB1c2gobmV3IGooaCwgaSkpOwogICAgICAgIHJldHVybiBlCiAgICB9LCBqLmdldFJzQmxvY2tUYWJsZSA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICBzd2l0Y2ggKGIpIHsKICAgICAgICAgICAgY2FzZSBkLkw6CiAgICAgICAgICAgICAgICByZXR1cm4gai5SU19CTE9DS19UQUJMRVs0ICogKGEgLSAxKSArIDBdOwogICAgICAgICAgICBjYXNlIGQuTToKICAgICAgICAgICAgICAgIHJldHVybiBqLlJTX0JMT0NLX1RBQkxFWzQgKiAoYSAtIDEpICsgMV07CiAgICAgICAgICAgIGNhc2UgZC5ROgogICAgICAgICAgICAgICAgcmV0dXJuIGouUlNfQkxPQ0tfVEFCTEVbNCAqIChhIC0gMSkgKyAyXTsKICAgICAgICAgICAgY2FzZSBkLkg6CiAgICAgICAgICAgICAgICByZXR1cm4gai5SU19CTE9DS19UQUJMRVs0ICogKGEgLSAxKSArIDNdOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMAogICAgICAgIH0KICAgIH0sIGsucHJvdG90eXBlID0gewogICAgICAgIGdldDogZnVuY3Rpb24oYSkgewogICAgICAgICAgICB2YXIgYiA9IE1hdGguZmxvb3IoYSAvIDgpOwogICAgICAgICAgICByZXR1cm4gMSA9PSAoMSAmIHRoaXMuYnVmZmVyW2JdID4+PiA3IC0gYSAlIDgpCiAgICAgICAgfSwKICAgICAgICBwdXQ6IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGIgPiBjOyBjKyspIHRoaXMucHV0Qml0KDEgPT0gKDEgJiBhID4+PiBiIC0gYyAtIDEpKQogICAgICAgIH0sCiAgICAgICAgZ2V0TGVuZ3RoSW5CaXRzOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoCiAgICAgICAgfSwKICAgICAgICBwdXRCaXQ6IGZ1bmN0aW9uKGEpIHsKICAgICAgICAgICAgdmFyIGIgPSBNYXRoLmZsb29yKHRoaXMubGVuZ3RoIC8gOCk7CiAgICAgICAgICAgIHRoaXMuYnVmZmVyLmxlbmd0aCA8PSBiICYmIHRoaXMuYnVmZmVyLnB1c2goMCksIGEgJiYgKHRoaXMuYnVmZmVyW2JdIHw9IDEyOCA+Pj4gdGhpcy5sZW5ndGggJSA4KSwgdGhpcy5sZW5ndGgrKwogICAgICAgIH0KICAgIH07CiAgICB2YXIgbCA9IFsKICAgICAgICAgICAgWzE3LCAxNCwgMTEsIDddLAogICAgICAgICAgICBbMzIsIDI2LCAyMCwgMTRdLAogICAgICAgICAgICBbNTMsIDQyLCAzMiwgMjRdLAogICAgICAgICAgICBbNzgsIDYyLCA0NiwgMzRdLAogICAgICAgICAgICBbMTA2LCA4NCwgNjAsIDQ0XSwKICAgICAgICAgICAgWzEzNCwgMTA2LCA3NCwgNThdLAogICAgICAgICAgICBbMTU0LCAxMjIsIDg2LCA2NF0sCiAgICAgICAgICAgIFsxOTIsIDE1MiwgMTA4LCA4NF0sCiAgICAgICAgICAgIFsyMzAsIDE4MCwgMTMwLCA5OF0sCiAgICAgICAgICAgIFsyNzEsIDIxMywgMTUxLCAxMTldLAogICAgICAgICAgICBbMzIxLCAyNTEsIDE3NywgMTM3XSwKICAgICAgICAgICAgWzM2NywgMjg3LCAyMDMsIDE1NV0sCiAgICAgICAgICAgIFs0MjUsIDMzMSwgMjQxLCAxNzddLAogICAgICAgICAgICBbNDU4LCAzNjIsIDI1OCwgMTk0XSwKICAgICAgICAgICAgWzUyMCwgNDEyLCAyOTIsIDIyMF0sCiAgICAgICAgICAgIFs1ODYsIDQ1MCwgMzIyLCAyNTBdLAogICAgICAgICAgICBbNjQ0LCA1MDQsIDM2NCwgMjgwXSwKICAgICAgICAgICAgWzcxOCwgNTYwLCAzOTQsIDMxMF0sCiAgICAgICAgICAgIFs3OTIsIDYyNCwgNDQyLCAzMzhdLAogICAgICAgICAgICBbODU4LCA2NjYsIDQ4MiwgMzgyXSwKICAgICAgICAgICAgWzkyOSwgNzExLCA1MDksIDQwM10sCiAgICAgICAgICAgIFsxMDAzLCA3NzksIDU2NSwgNDM5XSwKICAgICAgICAgICAgWzEwOTEsIDg1NywgNjExLCA0NjFdLAogICAgICAgICAgICBbMTE3MSwgOTExLCA2NjEsIDUxMV0sCiAgICAgICAgICAgIFsxMjczLCA5OTcsIDcxNSwgNTM1XSwKICAgICAgICAgICAgWzEzNjcsIDEwNTksIDc1MSwgNTkzXSwKICAgICAgICAgICAgWzE0NjUsIDExMjUsIDgwNSwgNjI1XSwKICAgICAgICAgICAgWzE1MjgsIDExOTAsIDg2OCwgNjU4XSwKICAgICAgICAgICAgWzE2MjgsIDEyNjQsIDkwOCwgNjk4XSwKICAgICAgICAgICAgWzE3MzIsIDEzNzAsIDk4MiwgNzQyXSwKICAgICAgICAgICAgWzE4NDAsIDE0NTIsIDEwMzAsIDc5MF0sCiAgICAgICAgICAgIFsxOTUyLCAxNTM4LCAxMTEyLCA4NDJdLAogICAgICAgICAgICBbMjA2OCwgMTYyOCwgMTE2OCwgODk4XSwKICAgICAgICAgICAgWzIxODgsIDE3MjIsIDEyMjgsIDk1OF0sCiAgICAgICAgICAgIFsyMzAzLCAxODA5LCAxMjgzLCA5ODNdLAogICAgICAgICAgICBbMjQzMSwgMTkxMSwgMTM1MSwgMTA1MV0sCiAgICAgICAgICAgIFsyNTYzLCAxOTg5LCAxNDIzLCAxMDkzXSwKICAgICAgICAgICAgWzI2OTksIDIwOTksIDE0OTksIDExMzldLAogICAgICAgICAgICBbMjgwOSwgMjIxMywgMTU3OSwgMTIxOV0sCiAgICAgICAgICAgIFsyOTUzLCAyMzMxLCAxNjYzLCAxMjczXQogICAgICAgIF0sCiAgICAgICAgbyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgYSA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2VsID0gYSwgdGhpcy5faHRPcHRpb24gPSBiCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBhLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgZnVuY3Rpb24gZyhhLCBiKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgYSk7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCBpbiBiKSBiLmhhc093blByb3BlcnR5KGQpICYmIGMuc2V0QXR0cmlidXRlKGQsIGJbZF0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBjCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX2h0T3B0aW9uLAogICAgICAgICAgICAgICAgICAgIGMgPSB0aGlzLl9lbCwKICAgICAgICAgICAgICAgICAgICBkID0gYS5nZXRNb2R1bGVDb3VudCgpOwogICAgICAgICAgICAgICAgTWF0aC5mbG9vcihiLndpZHRoIC8gZCksIE1hdGguZmxvb3IoYi5oZWlnaHQgLyBkKSwgdGhpcy5jbGVhcigpOwogICAgICAgICAgICAgICAgdmFyIGggPSBnKCJzdmciLCB7CiAgICAgICAgICAgICAgICAgICAgdmlld0JveDogIjAgMCAiICsgU3RyaW5nKGQpICsgIiAiICsgU3RyaW5nKGQpLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAiMTAwJSIsCiAgICAgICAgICAgICAgICAgICAgZmlsbDogYi5jb2xvckxpZ2h0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGguc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIiwgInhtbG5zOnhsaW5rIiwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiKSwgYy5hcHBlbmRDaGlsZChoKSwgaC5hcHBlbmRDaGlsZChnKCJyZWN0IiwgewogICAgICAgICAgICAgICAgICAgIGZpbGw6IGIuY29sb3JEYXJrLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAiMSIsCiAgICAgICAgICAgICAgICAgICAgaWQ6ICJ0ZW1wbGF0ZSIKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBkID4gaTsgaSsrKQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBkID4gajsgaisrKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5pc0RhcmsoaSwgaikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrID0gZygidXNlIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IFN0cmluZyhpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBTdHJpbmcoaikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgay5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsICJocmVmIiwgIiN0ZW1wbGF0ZSIpLCBoLmFwcGVuZENoaWxkKGspCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgYS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGZvciAoOyB0aGlzLl9lbC5oYXNDaGlsZE5vZGVzKCk7KSB0aGlzLl9lbC5yZW1vdmVDaGlsZCh0aGlzLl9lbC5sYXN0Q2hpbGQpCiAgICAgICAgICAgIH0sIGEKICAgICAgICB9KCksCiAgICAgICAgcCA9ICJzdmciID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLAogICAgICAgIHEgPSBwID8gbyA6IG0oKSA/IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBmdW5jdGlvbiBhKCkgewogICAgICAgICAgICAgICAgdGhpcy5fZWxJbWFnZS5zcmMgPSB0aGlzLl9lbENhbnZhcy50b0RhdGFVUkwoImltYWdlL3BuZyIpLCB0aGlzLl9lbEltYWdlLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siLCB0aGlzLl9lbENhbnZhcy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGQoYSwgYikgewogICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzOwogICAgICAgICAgICAgICAgaWYgKGMuX2ZGYWlsID0gYiwgYy5fZlN1Y2Nlc3MgPSBhLCBudWxsID09PSBjLl9iU3VwcG9ydERhdGFVUkkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLAogICAgICAgICAgICAgICAgICAgICAgICBlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLl9iU3VwcG9ydERhdGFVUkkgPSAhMSwgYy5fZkZhaWwgJiYgX2ZGYWlsLmNhbGwoYykKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZiA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5fYlN1cHBvcnREYXRhVVJJID0gITAsIGMuX2ZTdWNjZXNzICYmIGMuX2ZTdWNjZXNzLmNhbGwoYykKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5vbmFib3J0ID0gZSwgZC5vbmVycm9yID0gZSwgZC5vbmxvYWQgPSBmLCBkLnNyYyA9ICJkYXRhOmltYWdlL2dpZjtiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBSEVsRVFWUUkxMlA0Ly84L3czOEdJQVhESUJLRTBESHhnbGpOQkFBTzlUWEwwWTRPSHdBQUFBQkpSVTVFcmtKZ2dnPT0iLCB2b2lkIDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGMuX2JTdXBwb3J0RGF0YVVSSSA9PT0gITAgJiYgYy5fZlN1Y2Nlc3MgPyBjLl9mU3VjY2Vzcy5jYWxsKGMpIDogYy5fYlN1cHBvcnREYXRhVVJJID09PSAhMSAmJiBjLl9mRmFpbCAmJiBjLl9mRmFpbC5jYWxsKGMpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuX2FuZHJvaWQgJiYgdGhpcy5fYW5kcm9pZCA8PSAyLjEpIHsKICAgICAgICAgICAgICAgIHZhciBiID0gMSAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLAogICAgICAgICAgICAgICAgICAgIGMgPSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmRyYXdJbWFnZTsKICAgICAgICAgICAgICAgIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZHJhd0ltYWdlID0gZnVuY3Rpb24oYSwgZCwgZSwgZiwgZywgaCwgaSwgaikgewogICAgICAgICAgICAgICAgICAgIGlmICgibm9kZU5hbWUiIGluIGEgJiYgL2ltZy9pLnRlc3QoYS5ub2RlTmFtZSkpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgbCA+PSAxOyBsLS0pIGFyZ3VtZW50c1tsXSA9IGFyZ3VtZW50c1tsXSAqIGI7CiAgICAgICAgICAgICAgICAgICAgZWxzZSAidW5kZWZpbmVkIiA9PSB0eXBlb2YgaiAmJiAoYXJndW1lbnRzWzFdICo9IGIsIGFyZ3VtZW50c1syXSAqPSBiLCBhcmd1bWVudHNbM10gKj0gYiwgYXJndW1lbnRzWzRdICo9IGIpOwogICAgICAgICAgICAgICAgICAgIGMuYXBwbHkodGhpcywgYXJndW1lbnRzKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlID0gZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICAgICAgdGhpcy5fYklzUGFpbnRlZCA9ICExLCB0aGlzLl9hbmRyb2lkID0gbigpLCB0aGlzLl9odE9wdGlvbiA9IGIsIHRoaXMuX2VsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksIHRoaXMuX2VsQ2FudmFzLndpZHRoID0gYi53aWR0aCwgdGhpcy5fZWxDYW52YXMuaGVpZ2h0ID0gYi5oZWlnaHQsIGEuYXBwZW5kQ2hpbGQodGhpcy5fZWxDYW52YXMpLCB0aGlzLl9lbCA9IGEsIHRoaXMuX29Db250ZXh0ID0gdGhpcy5fZWxDYW52YXMuZ2V0Q29udGV4dCgiMmQiKSwgdGhpcy5fYklzUGFpbnRlZCA9ICExLCB0aGlzLl9lbEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksIHRoaXMuX2VsSW1hZ2Uuc3R5bGUuZGlzcGxheSA9ICJub25lIiwgdGhpcy5fZWwuYXBwZW5kQ2hpbGQodGhpcy5fZWxJbWFnZSksIHRoaXMuX2JTdXBwb3J0RGF0YVVSSSA9IG51bGwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX2VsSW1hZ2UsCiAgICAgICAgICAgICAgICAgICAgYyA9IHRoaXMuX29Db250ZXh0LAogICAgICAgICAgICAgICAgICAgIGQgPSB0aGlzLl9odE9wdGlvbiwKICAgICAgICAgICAgICAgICAgICBlID0gYS5nZXRNb2R1bGVDb3VudCgpLAogICAgICAgICAgICAgICAgICAgIGYgPSBkLndpZHRoIC8gZSwKICAgICAgICAgICAgICAgICAgICBnID0gZC5oZWlnaHQgLyBlLAogICAgICAgICAgICAgICAgICAgIGggPSBNYXRoLnJvdW5kKGYpLAogICAgICAgICAgICAgICAgICAgIGkgPSBNYXRoLnJvdW5kKGcpOwogICAgICAgICAgICAgICAgYi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiLCB0aGlzLmNsZWFyKCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgZSA+IGo7IGorKykKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZSA+IGs7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGEuaXNEYXJrKGosIGspLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9IGsgKiBmLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGogKiBnOwogICAgICAgICAgICAgICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gbCA/IGQuY29sb3JEYXJrIDogZC5jb2xvckxpZ2h0LCBjLmxpbmVXaWR0aCA9IDEsIGMuZmlsbFN0eWxlID0gbCA/IGQuY29sb3JEYXJrIDogZC5jb2xvckxpZ2h0LCBjLmZpbGxSZWN0KG0sIG4sIGYsIGcpLCBjLnN0cm9rZVJlY3QoTWF0aC5mbG9vcihtKSArIC41LCBNYXRoLmZsb29yKG4pICsgLjUsIGgsIGkpLCBjLnN0cm9rZVJlY3QoTWF0aC5jZWlsKG0pIC0gLjUsIE1hdGguY2VpbChuKSAtIC41LCBoLCBpKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuX2JJc1BhaW50ZWQgPSAhMAogICAgICAgICAgICB9LCBlLnByb3RvdHlwZS5tYWtlSW1hZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2JJc1BhaW50ZWQgJiYgZC5jYWxsKHRoaXMsIGEpCiAgICAgICAgICAgIH0sIGUucHJvdG90eXBlLmlzUGFpbnRlZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JJc1BhaW50ZWQKICAgICAgICAgICAgfSwgZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRoaXMuX29Db250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9lbENhbnZhcy53aWR0aCwgdGhpcy5fZWxDYW52YXMuaGVpZ2h0KSwgdGhpcy5fYklzUGFpbnRlZCA9ICExCiAgICAgICAgICAgIH0sIGUucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24oYSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGEgPyBNYXRoLmZsb29yKDFlMyAqIGEpIC8gMWUzIDogYQogICAgICAgICAgICB9LCBlCiAgICAgICAgfSgpIDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBhID0gZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICAgICAgdGhpcy5fZWwgPSBhLCB0aGlzLl9odE9wdGlvbiA9IGIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGEucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihhKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBiID0gdGhpcy5faHRPcHRpb24sIGMgPSB0aGlzLl9lbCwgZCA9IGEuZ2V0TW9kdWxlQ291bnQoKSwgZSA9IE1hdGguZmxvb3IoYi53aWR0aCAvIGQpLCBmID0gTWF0aC5mbG9vcihiLmhlaWdodCAvIGQpLCBnID0gWyc8dGFibGUgc3R5bGU9ImJvcmRlcjowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTsiPiddLCBoID0gMDsgZCA+IGg7IGgrKykgewogICAgICAgICAgICAgICAgICAgIGcucHVzaCgiPHRyPiIpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBkID4gaTsgaSsrKSBnLnB1c2goJzx0ZCBzdHlsZT0iYm9yZGVyOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3BhZGRpbmc6MDttYXJnaW46MDt3aWR0aDonICsgZSArICJweDtoZWlnaHQ6IiArIGYgKyAicHg7YmFja2dyb3VuZC1jb2xvcjoiICsgKGEuaXNEYXJrKGgsIGkpID8gYi5jb2xvckRhcmsgOiBiLmNvbG9yTGlnaHQpICsgJzsiPjwvdGQ+Jyk7CiAgICAgICAgICAgICAgICAgICAgZy5wdXNoKCI8L3RyPiIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBnLnB1c2goIjwvdGFibGU+IiksIGMuaW5uZXJIVE1MID0gZy5qb2luKCIiKTsKICAgICAgICAgICAgICAgIHZhciBqID0gYy5jaGlsZE5vZGVzWzBdLAogICAgICAgICAgICAgICAgICAgIGsgPSAoYi53aWR0aCAtIGoub2Zmc2V0V2lkdGgpIC8gMiwKICAgICAgICAgICAgICAgICAgICBsID0gKGIuaGVpZ2h0IC0gai5vZmZzZXRIZWlnaHQpIC8gMjsKICAgICAgICAgICAgICAgIGsgPiAwICYmIGwgPiAwICYmIChqLnN0eWxlLm1hcmdpbiA9IGwgKyAicHggIiArIGsgKyAicHgiKQogICAgICAgICAgICB9LCBhLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdGhpcy5fZWwuaW5uZXJIVE1MID0gIiIKICAgICAgICAgICAgfSwgYQogICAgICAgIH0oKTsKICAgIFFSQ29kZSA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICBpZiAodGhpcy5faHRPcHRpb24gPSB7CiAgICAgICAgICAgICAgICB3aWR0aDogMjU2LAogICAgICAgICAgICAgICAgaGVpZ2h0OiAyNTYsCiAgICAgICAgICAgICAgICB0eXBlTnVtYmVyOiA0LAogICAgICAgICAgICAgICAgY29sb3JEYXJrOiAiIzAwMDAwMCIsCiAgICAgICAgICAgICAgICBjb2xvckxpZ2h0OiAiI2ZmZmZmZiIsCiAgICAgICAgICAgICAgICBjb3JyZWN0TGV2ZWw6IGQuSAogICAgICAgICAgICB9LCAic3RyaW5nIiA9PSB0eXBlb2YgYiAmJiAoYiA9IHsKICAgICAgICAgICAgICAgIHRleHQ6IGIKICAgICAgICAgICAgfSksIGIpCiAgICAgICAgICAgIGZvciAodmFyIGMgaW4gYikgdGhpcy5faHRPcHRpb25bY10gPSBiW2NdOwogICAgICAgICJzdHJpbmciID09IHR5cGVvZiBhICYmIChhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpLCB0aGlzLl9hbmRyb2lkID0gbigpLCB0aGlzLl9lbCA9IGEsIHRoaXMuX29RUkNvZGUgPSBudWxsLCB0aGlzLl9vRHJhd2luZyA9IG5ldyBxKHRoaXMuX2VsLCB0aGlzLl9odE9wdGlvbiksIHRoaXMuX2h0T3B0aW9uLnRleHQgJiYgdGhpcy5tYWtlQ29kZSh0aGlzLl9odE9wdGlvbi50ZXh0KQogICAgfSwgUVJDb2RlLnByb3RvdHlwZS5tYWtlQ29kZSA9IGZ1bmN0aW9uKGEpIHsKICAgICAgICB0aGlzLl9vUVJDb2RlID0gbmV3IGIocihhLCB0aGlzLl9odE9wdGlvbi5jb3JyZWN0TGV2ZWwpLCB0aGlzLl9odE9wdGlvbi5jb3JyZWN0TGV2ZWwpLCB0aGlzLl9vUVJDb2RlLmFkZERhdGEoYSksIHRoaXMuX29RUkNvZGUubWFrZSgpLCB0aGlzLl9lbC50aXRsZSA9IGEsIHRoaXMuX29EcmF3aW5nLmRyYXcodGhpcy5fb1FSQ29kZSksIHRoaXMubWFrZUltYWdlKCkKICAgIH0sIFFSQ29kZS5wcm90b3R5cGUubWFrZUltYWdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdGhpcy5fb0RyYXdpbmcubWFrZUltYWdlICYmICghdGhpcy5fYW5kcm9pZCB8fCB0aGlzLl9hbmRyb2lkID49IDMpICYmIHRoaXMuX29EcmF3aW5nLm1ha2VJbWFnZSgpCiAgICB9LCBRUkNvZGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5fb0RyYXdpbmcuY2xlYXIoKQogICAgfSwgUVJDb2RlLkNvcnJlY3RMZXZlbCA9IGQKfSgpOw=="/>
                <L7p:ResponseContentType stringValue="text/javascript; charset=UTF-8"/>
            </L7p:HardcodedResponse>
        </wsp:All>
    </wsp:Policy>
</exp:Export>
